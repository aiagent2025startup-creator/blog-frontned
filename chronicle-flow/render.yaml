# Render deployment manifest for the frontend (chronicle-flow)
# Doc: https://render.com/docs/render-yaml
services:
  - type: static_site
    name: blog-frontned-frontend
    env: static
    branch: main
    # Run install & build within the `chronicle-flow` folder so Render uses the correct working directory
    installCommand: "npm ci --prefer-offline --no-audit --no-fund --silent"
    buildCommand: "npm run build"
    # Where Vite writes the production files
    publishPath: "chronicle-flow/dist"
    # Set service root to the chronicle-flow subfolder (relative to repo root)
    root: chronicle-flow
    autoDeploy: true
    plan: starter
    envVars:
      - key: VITE_API_URL
        value: "https://blog-backend-fr96.onrender.com"
      - key: NODE_VERSION
        value: "18"
